<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>BlockBook - SHOP</title>
    <meta name="title" content="BlockBook - Get Your Original Book Collections">
    <meta name="description" content="This is a Book eCommerce html template made by codewithsadee">

    <link rel="shortcut icon" href="./favicon.svg" type="image/svg+xml">

    <link rel="stylesheet" href="css/main.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600&family=Work+Sans:wght@400;500;700&display=swap" rel="stylesheet">

    <link rel="preload" as="image" href="image/hero-banner.png">
    <link rel="preload" as="image" href="image/hero-bg.jpg">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <script>  
        const userphoto = "<%= user.photo %>";
        const usernama = "<%= user.name %>";
    </script>

</head>

<body id="top">

    <div id="headerweb"></div>

    <main>
        <article>
            <section class="section featured" aria-label="featured collection" style="background-color: var(--white-background);">
                <div class="container">
                    <h2 class="h2 section-title">Featured Collections</h2>
                    <p class="section-text">
                        Several interesting book collections
                    </p>
                    <ul id="product-list" class="row row-cols-1 row-cols-md-3 g-4">
                        <% books.forEach(book => { %>
                        <li class="col" data-category="<%= book.book.kategori %>" data-author="<%= book.book.author %>" data-price="<%= book.book.harga %>" data-book-name="<%= book.book.title %>" data-publisher="<%= book.publiser.index %>" data-publisher-name="<%= book.book.author %>">
                                <div class="card h-100 shadow-sm book-card" data-id="<%= book.book.index %>" data-publisher-name="<%= book.book.author %>" data-publisher="<%= book.publiser.index %>">
                                    <div class="position-relative">
                                        <img src="<%= book.book.gambarBuku %>" class="card-img-top img-cover" alt="<%= book.book.tittle %>">
                                        <div class="card-action position-absolute top-50 start-50 translate-middle">
                                            <button class="btn btn-light action-btn m-1" aria-label="quick view" title="Quick View" data-id="<%= book.book.index %>">
                                                <ion-icon name="eye-outline" aria-hidden="true"></ion-icon>
                                            </button>
                                            <button class="btn btn-light action-btn m-1" aria-label="add to cart" title="Add to Cart" data-id="<%= book.book.index %>" data-bahasa="<%= book.book.bahasa %>" data-publisernama ="<%= book.publiser.name %>" data-publisher-name="<%= book.book.author %>" >
                                                <ion-icon name="bag-handle-outline" aria-hidden="true"></ion-icon>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="card-body" data-book-name="<%= book.book.name %>">
                                        <h5 class="card-title"><%= book.book.title %></h5>
                                        <p class="card-text"><%= book.book.isbn %></p>
                                        <p class="card-text"> <small class="text-muted">Penulis: <%= book.book.author %></small></p>
                                        <p class="card-text"> <small class="text-muted">Penerbit : <%= book.publiser.name %></small></p>
                                        <p class="card-text text-primary fw-bold">Rp. <%= Number(book.book.harga * BigInt(120) / BigInt(100)).toLocaleString() %></p>
                                    </div>
                                    <div class="card-footer">
                                        <small class="text-muted">Bahasa : <%= book.book.bahasa %></small>
                                    </div>
                                </div>
                            </li>
                        <% }); %>
                    </ul>
                </div>
            </section>
        </article>
    </main>

    <div id="footerweb"></div>

    <a href="#top" class="back-top-btn" aria-label="back to top" data-back-top-btn>
        <ion-icon name="chevron-up" aria-hidden="true"></ion-icon>
    </a>

    <div id="cart" class="cart">
        <button class="close" id="close-cart">&times;</button>
        <h2>Keranjang Belanja</h2>
        <div id="empty-cart" class="empty-cart">
            <img src="image/keranjang.svg" alt="Cart Graphic">
            <p>Tidak ada pesanan</p>
        </div>
        <ul id="cart-items"></ul>
        <p class="total">Total: Rp. 0</p>
        <button class="checkout" id="checkout">Checkout</button>
    </div>
    <div class="page-overlay" ></div>

    <div id="quickview-modal" class="quickview-modal">
        <div class="quickview-content">
            <div class="quickview-details"></div>
            <button class="close-quickview">&times;</button>
        </div>
    </div>

    <script src="js/scriptweb.js" defer></script>
    <script src="js/scriptkeranjang.js" defer></script>
    <script src="js/scriptheaderfooter.js" defer></script>

    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>

</html>
